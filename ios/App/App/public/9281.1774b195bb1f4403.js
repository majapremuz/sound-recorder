"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9281],{9281:(k,f,e)=>{e.r(f),e.d(f,{ProfilPageModule:()=>j});var c=e(7829),u=e(7222),r=e(888),g=e(7569),P=e(3308),d=e(172),t=e(4303),b=e(1701),h=e(65);const v=o=>({"background-color":o});let m=(()=>{var o;class a{constructor(n,i){this.router=n,this.http=i,this.notificationsEnabled=!0}ngOnInit(){const n=localStorage.getItem("notificationsEnabled");this.notificationsEnabled=null===n||JSON.parse(n)}toggleNotifications(){var n=this;return(0,P.A)(function*(){n.notificationsEnabled=!n.notificationsEnabled,localStorage.setItem("notificationsEnabled",JSON.stringify(n.notificationsEnabled)),"granted"!==(yield d.h.checkPermissions()).receive&&(yield d.h.requestPermissions());const l=localStorage.getItem("pushToken");l&&(yield n.http.post("https://traffic-call.com/api/pushchange.php",{token:l,active:n.notificationsEnabled?1:0}).toPromise()),console.log("Notifications "+(n.notificationsEnabled?"enabled":"disabled"))})()}navigateTo(n){this.router.navigate([`/${n}`])}}return(o=a).\u0275fac=function(n){return new(n||o)(t.rXU(b.Ix),t.rXU(h.Qq))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-profil"]],decls:23,vars:5,consts:[[3,"fullscreen"],[1,"notification-card",3,"click","ngStyle"],[1,"notification-status"],[1,"footer-button","home-button",3,"click"],[1,"footer-btn-container"],["src","assets/home.png","alt","home icon",1,"footer-icon"],[1,"footer-button","list-button",3,"click"],["src","assets/list.png","alt","list icon",1,"footer-icon"],[1,"footer-button",3,"click"],["src","assets/profil.png","alt","profil icon",1,"footer-icon"]],template:function(n,i){1&n&&(t.j41(0,"ion-content",0)(1,"ion-card",1),t.bIt("click",function(){return i.toggleNotifications()}),t.j41(2,"ion-card-content")(3,"h2"),t.EFF(4,"Primanje PUSH obavijesti"),t.k0s(),t.j41(5,"p",2),t.EFF(6),t.k0s()()(),t.j41(7,"ion-footer")(8,"ion-button",3),t.bIt("click",function(){return i.navigateTo("home")}),t.j41(9,"div",4),t.nrm(10,"img",5),t.j41(11,"p"),t.EFF(12,"Po\u010detni ekran"),t.k0s()()(),t.j41(13,"ion-button",6),t.bIt("click",function(){return i.navigateTo("popis")}),t.j41(14,"div",4),t.nrm(15,"img",7),t.j41(16,"p"),t.EFF(17,"Popis objava"),t.k0s()()(),t.j41(18,"ion-button",8),t.bIt("click",function(){return i.navigateTo("profil")}),t.j41(19,"div",4),t.nrm(20,"img",9),t.j41(21,"p"),t.EFF(22,"Korisni\u010dki profil"),t.k0s()()()()()),2&n&&(t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngStyle",t.eq3(3,v,i.notificationsEnabled?"#4bca0c":"#e03f41")),t.R7$(5),t.JRh(i.notificationsEnabled?"Uklju\u010deno":"Isklju\u010deno"))},dependencies:[c.MD,c.B3,r.bv,r.Jm,r.b_,r.I9,r.W9,r.M0,u.YN],styles:["h1[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;text-align:center}h2[_ngcontent-%COMP%]{color:#000;font-family:Open Sans,sans-serif;font-weight:900}.notification-status[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:.9rem;margin:1rem 0}ion-footer[_ngcontent-%COMP%]{box-shadow:none;border-top:2px solid #cacaca;padding:1rem 0;position:absolute;bottom:0;left:0;right:0;display:flex;justify-content:center;align-items:center}.footer-btn-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;padding:.5rem}.footer-button[_ngcontent-%COMP%]{--background: transparent;--box-shadow: none;margin:0}.home-button[_ngcontent-%COMP%], .list-button[_ngcontent-%COMP%]{border-right:2px solid #cacaca}.footer-icon[_ngcontent-%COMP%]{height:10vmin}p[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#000;font-size:.7rem;text-transform:none}"]}),a})();var p=e(656);const y=[{path:"",component:m}];let M=(()=>{var o;class a{}return(o=a).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=p.G2t({imports:[g.iI.forChild(y),g.iI]}),a})(),j=(()=>{var o;class a{}return(o=a).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=p.G2t({imports:[m,c.MD,u.YN,r.bv,M]}),a})()}}]);